branches:
  only:
  - master
  - stable
language: java
env:
  global:
  - secure: J9A9nC5sJM09ISNUYB9t4D3AEdRRf31or72vSRCtZIjY9vQI875RPp78ngjCcNu8ALsJEpoeDVRLn3s3RJJ2LShmCvaCfKulLrIOJqW6ZBXljHQqD+nRNv0TUmk4HJutxCVXYvKT5dKrVoDeUZOIRNp5SAYu36HpmShrd5gNRBQeUewqcceoCW2yJtQxRHit5CLf4mvHpTW4+S/rnatiimk3DfTiLcskLxITnhjYSyKPRVExTcoT/8EielfXSaDM3F/Kw0o/Ffh05pKq9v21LSB8mpnOoOypE0vzSo+lFtS3nbMtjw7q8FOEywq/y/k33se5Zc2bP0USmS6Oidl2pBeqimAwoSnqCcIE5GwlypU1yEnuQE6Z3+mtoW963MKQQhmkxlI4wPprJ5qQYDjZjnIiltkzw2FtVT4nRfbYAHJDT4GQZkiWi4XC8/Bd2mgjiWWMoNN5snFVm+D8j0HlNMX/6zayNZjv+PEEfdJUxjN541gE7nE1LNs9fOe19x8ftQxWV/+3OLRdl8RrG4ByxFcgNdRd0xNH9ar+fF6LkQcBO7mwqkn/C6RYShBU9NTmuTytibRJzfvhtIXok1D25yHKU2IvQvRmUIfYAoj8eUGUAZoyKSlmllbw40L8k+86q9oWP4thbIhU6xWALScnZUKqYpCNe+LLg4NYt5kKbmA=
  - secure: YatPrVVIaJe0I1e5glD+1di5O+W+PibAOgdFI5HfvLGOemMlRAgEg9XCVephMTacdjuwDB3A2jHh4RmwlF29fjEQTIemJqkctG3WftfesPYi6GBJ4LwWVmbx5nUDval65G+hFsR92/ESX7ipqxwy35Vy5GCbzl8yfhkpUF6TebCq1kp28va38OCLC8XNmSROznLLaBRIFpVBIFV22x+TF5MhwRrLj+KtWIm4XOJcgxpGm3Bv1sUZh5DLCawlpk84hTufaOMkPg1R1L8KeNNWeDdNpS4RiVnll7yeUQKpeb7Bdh8vOXDXuRA0EhlqgoyNcXtdWhMAWui1e1KPXa8wdzym1RJ3ppQ34jbhJlSCJMfjoTFst612Qswhs6ucKzWdneatPzr8g/hs89a/u6eSoZT1nhcXIw8lBxZb4y9dUYeqOthdd52YENLlEbv5GcQ9C8C2Ui4iPS4ZjZSKxlykaKU7OEHJzsy6OoV16LQPGTKVHTuDIfw91XVoknATtnsXpSENJIw1fUKOvvagE59Pae375LqtYsbzBPXN1LXaYsuCjfP9XsmW+B/S8pXF0u2716/JOeOVirV1N+FtsHdGy7VrUh4rjuHJIOVtM7LlBj7s02aqPFWUA8pfnz1qi7JKFq8TIQqoM/IezmVlgeVY52iqwNUmVuQWEoLGivdFkXs=
  - secure: gknI0hkdSZJfqVe+RAxaFUn6YBq0Iu96a2HR1OhEN/qf5RfsIwa1KlfavDf8VhXwRijinBB4WVsJBjBX48Vv1QEt+Dk7nVtL4asuZUqORxvR6WIlvPyTlbXk7I6bXSLCUaInM8fsPAS3v3IITOSh3zFiESn9Ssvw3BCQKO9/TW9Oiqw5BDl8TpxgBlT6JxS9snq8+HppG/Up50MHc2s1LFW85s0ayuCb3q4bFE2UuoCoMlFta8Sj8FMA+9RE+OsJDMaDRD2AzzBCOLq+7VFGc5nycRtTivJmNI1LuwVSAm4UdcG5/Rd4eGryprVnTStxaWbvkXMIIstllfdA9WAE+n8Gn22QfjRAixd8DQ5WoCsJeiMsnpWh2jPa3E3+WhXFu0QOaXP7kJaIzaqdQRXfOGAk+rmflPe6JKFCCdp41KLweDQDZfkopXQ9yPKtF8Tx190gL3c3CjZw4I13YfHFJH4RtI8rHz5+mRZRXO0Mr7XzGvdED3OLYz5AmT7U6LZ08mPpqtzOmlhUDsrY/YnEPqOAoTNex4nCbFaioYpo/dxvM46wDsvW4/SKFpWuE/HgL3qCrRsmrBFW7iUIsjHyEnrwc9C7iwFDAA/MVI9MqeglNLTZq+CtsG/M2T7xVhoizKC4QNm/AGqftEhPEQPddVHJwzqJOfGjTfuiarr/UVU=
  - secure: nKjUUlqlbiefx1+RT/MoYShqcH+gZ8Rm3jPG5SKEW/Gmp5MFN3CMurHxzhEBcjfVzpJrMVn3HjEOENK9I+L2DUyjHnuYVuLD8KPhffJaAEodZ8YqfOp/Pw4FNWS+c9xlxTTeqGzAAjZ+c1kiS1yaK95HDkwx0ody/to7u+6PUUEMUCl+ldLBlhvIZBgONwhWuQJm5tKJzoD4VlaotaxDP5KbNJ06PiVPe40psC8E+Dm3a5mNT+TRh76+CudxzPOgBlTWYjDt9jEKgKWl37ILdE/r9hBA47552D2iPUui7u7/lTK0RWVi2m2/osDKmLRYRrSyKFmkTjpeNIE4BFXD8zxeTQHOPJBXFag00ouVkW6f5OKLcAPUzZhbyH+fYidyzsQk8ft/WSMrFGmhyczbpkm1itE4gsTx+7eNdLzp3mLMmGKAgLvuNXK/dekenOqMMhpWIWor9h9+e7KwxlVU9T1jm4MRf3F78FiBAsmNXdyEs3CZrexnSp4Ci5m4HGXGfwwBuv8/nTn0vzR+A9qv6OQhqafeSOTEMTS+yOqFXmfa7i++xtdLCIIYuQZjMKNS2qvFqkraYGgmc/iWi0wzINwn1rLOgLZRxEfrxnfrCe0VZ7A+D8XDmOaVZOoGkiWearZIYuGnYrAB4vcCCkWJrYwq9bh4EeVdKas7+ThENZw=
jdk:
- oraclejdk8
install:
- mvn clean install  -DskipTests=true -P !build-extras -B -V
before_script: 
script: mvn test -am -P !build-extras -B
cache:
  directories:
  - "~/.m2/repository"
after_success:
- "./cd/before-deploy.sh"
- "./cd/deploy.sh"
after_failure:
- cat com.github.lafa.logfast/target/surefire-reports/*.txt
- cat com.github.lafa.logfast/core/target/surefire-reports/*.txt
