branches:
  only:
  - master
  - stable
language: java
env:
  global:
  - secure: LY1TTBZ+Tuf0tE/Cgf6hJpPycE9AUJWXxZpDxNAgaUfWlDmYW0WZyfrJNcKX82dO1E7LCVZL2j3LOSFcrQdjw7uPgC97iA1pC2YzwnCnFs02MX5APGwewPG90kGpqHSg7i5v7694s4DqwUIb/birf42kkGVovlbkoMcdj7j3/gKXcoFuwiG86ruERmd+/VfniYZiB+UM+RuN9xjk6UpjDGxgdOKqINxzgAkUBwzo+NS3H7w5Uv3jOlN7vU1dvn8QhaX66sC1DO0dZgo8/mLAl+YfVZzciP2qtHaUQxE+soTt8S+9xjQRtx4Zidi+Qto0YLwdcmEGcdOifvlhbSwroT9wI/OLa4lS0ntKxj0KVwCwp7NwY5JpdLi7tLMAVcGMkagEmm7NxD0O3paV4i7nEnfsAtXACmdeJH7wFPVeYZ5htxbNljPkBSQHKqeHOYiwV0hWx9qrqh2sYn2E7keKE6NH8F8YJWvMALZ066cKmtfZaxxtwusBs8CWVFzoglOCsFdMTx5DlRpkAgNfkqsW0YBZe7CewE+KA2PvLddZJKywEpale6sRb1ih2aTg6RnDLmG80t7SL8Qxc9i7oz10PMP/FEVvoJldnin/9xaOoU6JeBWlihSa3ZRimE2sxhledEbwGNGXAX3nv5iY0toCGcNL3YOUPyEaPQaiBhOiq/E=
  - secure: AbYU8WgLbSQuSg2xxVhp7tb4wvtRE3iX8yLuQHyQs1zsnm33rHux+S3YebiT4EqJzOyK0Qnuuds8TDzJ5GxR1N9SI54pzCwQfiWdyGvCO9HFL3J8q2UnqqMTwfjC/tJLidy9AWpt2JFXm0kmAZ1LzSqK5Ht7SOmxadiBqYVhkl04jiVcSIA+aOQgWpHUKbl3qjTMEdEt0lcbwfuxgR9XKgcYI1VNymJUEBOAn6UJinGWZrL4+BDVxew/Wj2hQv4pbQ9eoB7PWzjat8HKZ7rI4ySmUut1x+3BGcQEm3kXjrrBFiIYoR2wSQcQRLCtH++KIT2snSrVtaWUPiDg0X3JQBFKE9EZkfF2XFWhSotvUYgej643qgUQiwu2an70l3hhdwm/Nc72QBT8mE742JWVaxpffbMFBVWNfR5uiGyOfhQAWvlNqyQFCb9PXjOsUMsuqh32+fbxZr+rqE+3xZHABLr/+0FZ4qbBpElbKXD9iZpIhJF9WB+ojilslhe8er2Q3BUh7s2X3reTij67cEZ6FXpcU0Y/TffONN4qIgZcWTkrOZ5gzRTA6JSeEDmJZXrYWK9g6bNfZTvdiHZxw6H6pII+6IrfAJTz68US6vPJEkBRy9rx/1A0yNpK9K6w72iaN3qGFzP0jB7kAHHpbclobQuozd6sq38NImul6VmzP3g=
  - secure: E6tbvIY28W49/998reLwpf+1CREHrx3vxRM1mSztviVV1DbVO85WhKIiyEp30nQtx41ihxvp3ntrENDYMzXE2snO0Thxv3Hxa/0QRpWu+o0n1xEZbSsmysd9JG0d1YTs0zdupIZrvA3xYck2/S+FUZ1rlud7hl2hf+O46d9bykuLbRUnxNsonQKdMft2n05ghdmmph8FtRMEOUh/9IMDQjVm7vpJzI+OORwVslgloGyi3JGosK88Nr4jxfhOn2zjmfA8J2iv+W7YAKxwGjJrRbMZctCwgDX7lG9fSySyyd+BsN7iWMPManbdvxdwgMZ/axjaTcRBTJU/GQnfJujIs6hR5Esc0BDp5SemxtFZKdlnFLdL6LKQG6TGgowSCL0U/02zivhmoMHohjE8x50F5Amj95wuStrZvoOApazsaqlcQeMT4eFT03FdasxjS17Oui3sUxTBBvx6+IQLpcjy78VxLK0Bm5oVLj53JuZnMybdtTxg0B45ysmyJVG7ww+za4Nn5Eov6ir7z+GR70fK6Hf1I+o2Z/FHBbnYsSPCBi7p+A2l1ljBDfQdygvKU+tqxbnjXxCtXP+HmKprre7wFgN7KOLSZncF6ky/nwL4nzbSq1hxzMv21GkwrU3SoQZjez4W9EzKnDcV4A2SBlWx12y3SvgYOE2ht+nZjuSHTMo=
  - secure: HuVniHLbe8F6j7m/lh/uNEYND4gaYISKsXxfX98xo6Xnfi2tr+GkiSfL07zPSJyHR81F3Ez02gZBtAyfj9nrOC6KVuBahE+A1evi42hLJox+nBCFul4y8XQMrRci+RKBHC8pBBav6eHyrQbmHeIovGymMp4FJdYfGDHptqbT47csVs32gW0o0DKNF2JTVH5FjLZvBRW/G9khgus4PCgk8apIXedObqq9zQjCpwwAtionMCGSIr6dCY14i9jTnbYRko9CdmnQs2xFzEP158uqwQA9/DhV4cLNyJHbMFy2iqyTc91lC7OxjOKusr6EfEwoYEKEqLAseMAW8hur1jNv4+h9YS7yZqNP5l996IQYwgDcYVGhEcHlRW6JHTkiKTXW/jtZu+JYVqD73/8eBJJpwOynNgN+1uieBCSmdRkZnvYVPQYP60HaDw4J4CsDhyAjFXhJK4sjwzi5RuqZWts7kAUYxEJ67nM96MdUSSvCJqftHoGIAe3fKv0D6MnUtSYEvYMGNpaQs5lJyd1ES33GsDRYJoT2kzvQfiuY2pl8WONZ0LCp7hMvyY4akTICUodGy+wjMSOKkcvkRHDLtj9xmixMzXodsk95+2mN+Ora/qtIu4RUensjJqYciAASohXn3S8JcRwPYAjTgjGaV48QiPiGZrpOAiC0aom/9i2zQeo=
jdk:
- oraclejdk8
install:
- mvn clean install  -DskipTests=true -P !build-extras -B -V
before_script: 
script: mvn test -am -P !build-extras -B
cache:
  directories:
  - "~/.m2/repository"
after_success:
- "./cd/before-deploy.sh"
- "./cd/deploy.sh"
after_failure:
- cat com.github.lafa.logfast/target/surefire-reports/*.txt
- cat com.github.lafa.logfast/core/target/surefire-reports/*.txt
